<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript">document.oncontextmenu = function(){return false;}</script>
    <title>MenÃº Principal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body> 
    <header>    
        <div class="logo-texto">ðŸ“¦ Area de selecciÃ³n</div>
        <a href="#" id="btnSalir" class="btn-header">ðŸšª SALIR</a>
    </header>

    <div id="panel-box" class="caja-central">
        <h1>Panel de Control</h1>
        <p style="color: #444; margin-bottom: 30px; font-weight: 500;">Seleccione una operaciÃ³n:</p>

        <div class="contenedor-menu">
            <a href="formulario.html" class="btn-menu">âž• Nueva Reserva</a>
            <a href="lista.html" class="btn-menu">ðŸ“‹ Ver Lista de Reservas</a>
            <a href="actualizar.html" class="btn-menu btn-destacado">ðŸ“ˆ Actualizar Precios (Masivo)</a>
        </div>
    </div>

    <footer>
        <div class="footer-contenido">
            <div class="footer-links">
                <a href="javascript:void(0)" onclick="abrirSoporte()">Soporte</a>
            </div>
            <img src="./img/Ob_Logo.png" alt="Logo Footer" class="footer-logo">
            <p>&copy; 2026 Tu Sistema de Reservas. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // --- CAPA DE SEGURIDAD ---
        // Si no hay datos de sesiÃ³n, redirigir inmediatamente al login
        if (!sessionStorage.getItem('usuario_nombre')) {
            window.location.href = 'index.html';
        }

        // 1. Mostrar nombre del usuario y sucursal
        const nombre = sessionStorage.getItem('usuario_nombre');
        const sucursal = sessionStorage.getItem('usuario_sucursal');
        
        // Limpiamos y centramos el contenido
        if (nombre) {
            // TÃ­tulo principal centrado
            document.querySelector('h1').innerHTML = `Hola, <span style="color:#4a90e2">${sucursal}</span>`;
            
            // InstrucciÃ³n debajo del tÃ­tulo
            document.querySelector('p').textContent = `Seleccione una operaciÃ³n para continuar:`;
            document.querySelector('p').style.marginBottom = "30px";
        }

        // 2. BotÃ³n Salir
        document.getElementById('btnSalir').addEventListener('click', (e) => {
            e.preventDefault();
            sessionStorage.clear(); // Limpia toda la sesiÃ³n
            window.location.href = 'index.html';
        });

        const rol = sessionStorage.getItem('usuario_rol');  
            if (rol !== 'admin') {
                // Si no es admin, ocultamos el botÃ³n de actualizaciÃ³n masiva
            document.querySelector('.btn-destacado').style.display = 'none';
        }
    </script>

    
</body>
</html>